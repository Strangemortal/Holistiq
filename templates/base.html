<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>{% block title %}Health Toolkit{% endblock %}</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
			rel="stylesheet"
		/>
		<link
			href="{{ url_for('static', filename='css/style.css') }}"
			rel="stylesheet"
		/>
	</head>
	<body>
		<!-- Navigation -->
		<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
			<div class="container">
				<a class="navbar-brand" href="{{ url_for('index') }}">
					<i class="fas fa-heartbeat me-2"></i>Health Toolkit
				</a>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarNav"
				>
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav me-auto">
						<li class="nav-item">
							<a class="nav-link" href="{{ url_for('index') }}"
								>Home</a
							>
						</li>
						<li class="nav-item">
							<a
								class="nav-link"
								href="{{ url_for('exercises') }}"
								>Exercises</a
							>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{{ url_for('yoga') }}"
								>Yoga & Meditation</a
							>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{{ url_for('recipes') }}"
								>Recipes</a
							>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{{ url_for('quiz') }}"
								>Mental Health</a
							>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{{ url_for('report') }}"
								>Health Report</a
							>
						</li>
					</ul>
					<ul class="navbar-nav">
						<li class="nav-item">
							<a
								class="nav-link"
								href="#"
								data-bs-toggle="modal"
								data-bs-target="#chatModal"
							>
								<i class="fas fa-robot me-1"></i>Chat Assistant
							</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<!-- Main Content -->
		<main class="pt-5 mt-4">{% block content %}{% endblock %}</main>

		<!-- Chat Modal -->
		<div class="modal fade" id="chatModal" tabindex="-1">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">
							<i class="fas fa-robot me-2"></i>Health Assistant
						</h5>
						<button
							type="button"
							class="btn-close"
							data-bs-dismiss="modal"
						></button>
					</div>
					<div class="modal-body">
						<div id="userDetailsForm" class="mb-3">
							<h6>Please enter your details:</h6>
							<div class="row g-3">
								<div class="col-md-6">
									<input type="number" class="form-control" id="userAge" placeholder="Age" min="1" max="120">
								</div>
								<div class="col-md-6">
									<input type="number" class="form-control" id="userWeight" placeholder="Weight (kg)" step="0.1" min="20" max="300">
								</div>
								<div class="col-md-6">
									<input type="number" class="form-control" id="userHeight" placeholder="Height (cm)" step="1" min="50" max="250">
								</div>
								<div class="col-md-6">
									<select class="form-control" id="userActivityLevel">
										<option value="">Activity Level</option>
										<option value="sedentary">Sedentary</option>
										<option value="light">Lightly Active</option>
										<option value="moderate">Moderately Active</option>
										<option value="very">Very Active</option>
									</select>
								</div>
								<div class="col-12">
									<textarea class="form-control" id="userHealthGoals" placeholder="Your health goals..." rows="2"></textarea>
								</div>
							</div>
						</div>
						<div
							id="chatBox"
							class="chat-box mb-3"
							style="
								height: 300px;
								overflow-y: auto;
								border: 1px solid #dee2e6;
								padding: 15px;
								border-radius: 5px;
							"
						>
							<div class="chat-message bot-message">
								<strong>Health Assistant:</strong> Hello! Please fill in your details above so I can provide personalized health advice. How can I assist you today?
							</div>
						</div>
						<div class="input-group mb-2">
							<small class="text-muted w-100">Tip: For best results, provide your details above and ask specific questions about your health goals.</small>
						</div>
						<div class="input-group">
							<input
								type="text"
								id="chatInput"
								class="form-control"
								placeholder="Ask me about health, nutrition, exercises..."
							/>
							<button
								class="btn btn-primary"
								onclick="sendMessage()"
							>
								<i class="fas fa-paper-plane"></i>
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Footer -->
		<footer class="bg-dark text-light mt-5 py-4">
			<div class="container">
				<div class="row">
					<div class="col-md-6">
						<h5>
							<i class="fas fa-heartbeat me-2"></i>Health Toolkit
						</h5>
						<p>Your comprehensive health and wellness companion.</p>
					</div>
					<div class="col-md-6 text-md-end">
						<p>&copy; 2025 Health Toolkit. All rights reserved.</p>
					</div>
				</div>
			</div>
		</footer>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
		<script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
		        <script src="{{ url_for('static', filename='js/health-dashboard.js') }}"></script>
				{% block scripts %}{% endblock %}
			</body>
		</html>
